{"version":3,"sources":["webpack:///E:/键盘敲烂/ourChat - H5/components/free-ui/chat-item.vue?bdcc","webpack:///E:/键盘敲烂/ourChat - H5/components/free-ui/chat-item.vue?4244","webpack:///E:/键盘敲烂/ourChat - H5/components/free-ui/chat-item.vue?a387","webpack:///E:/键盘敲烂/ourChat - H5/components/free-ui/chat-item.vue?027f","uni-app:///components/free-ui/chat-item.vue","webpack:///E:/键盘敲烂/ourChat - H5/components/free-ui/chat-item.vue?be0f","webpack:///E:/键盘敲烂/ourChat - H5/components/free-ui/chat-item.vue?70c2"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkI;AAClI;AAC6D;AACL;AACqC;;;AAG7F;AACsK;AACtK,gBAAgB,gLAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAqnB,CAAgB,koBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuFzoB;;AAEA,gD;AACA;AACA;AACA;AACA,kBADA;AAEA,iBAFA,EADA;;AAKA;AACA,kBADA;AAEA,gBAFA,EALA;;AASA;AACA,kBADA;AAEA,gBAFA,EATA;;AAaA;AACA,6BADA;AAEA,gBAFA,EAbA;;AAiBA;AACA,mBADA;AAEA,mBAFA,EAjBA,EADA;;;AAuBA,SAvBA,qBAuBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GArCA;AAsCA,MAtCA,kBAsCA;AACA;AACA,iBADA;AAEA,mBAFA;AAGA,YAHA;AAIA,YAJA;AAKA;AACA;AACA,kBADA;AAEA,qBAFA,EADA;;AAKA;AACA,qBADA;AAEA,8BAFA,EALA;;AASA;AACA,kBADA;AAEA,sBAFA,EATA;;AAaA;AACA,kBADA;AAEA,uBAFA,EAbA;;AAiBA;AACA,kBADA;AAEA,yBAFA,EAjBA,CALA;;;AA2BA,iBA3BA;;AA6BA,GApEA;AAqEA,eArEA,2BAqEA;AACA;AACA;AACA,GAxEA;AAyEA;AACA,0BADA;AAEA,wBAFA;AAGA,wBAHA,EAzEA;;AA8EA;AACA;AACA,wDADA;AAEA,wDAFA,GADA;;AAKA,UALA,oBAKA;AACA;AACA,KAPA;AAQA;AACA,cATA,wBASA;AACA;AACA;AACA,KAZA;AAaA,YAbA,sBAaA;AACA;AACA,KAfA;AAgBA,eAhBA,yBAgBA;AACA;AACA;AACA,KAnBA;AAoBA,WApBA,qBAoBA;AACA;AACA,KAtBA;AAuBA,aAvBA,uBAuBA;AACA;;AAEA,KA1BA;AA2BA,YA3BA,sBA2BA;AACA;AACA,KA7BA;AA8BA,eA9BA,yBA8BA;AACA;AACA;AACA;AACA;AACA,KAnCA;AAoCA,YApCA,sBAoCA;AACA;AACA;AACA,KAvCA,GA9EA;;AAuHA;AACA,gEADA;AAEA,eAFA,uBAEA,EAFA,EAEA;AACA;AACA,kDADA;;AAGA,KANA;AAOA,gBAPA,wBAOA,GAPA,EAOA;AACA;AACA,qDADA;;AAGA,KAXA;AAYA;AACA,WAbA,mBAaA,CAbA,EAaA;AACA;AACA;AACA,KAhBA;AAiBA;AACA,YAlBA,oBAkBA,KAlBA,EAkBA;AACA;AACA;AACA;AACA,KAtBA;AAuBA,aAvBA,uBAuBA;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA,SAFA;AAGA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA;AACA,SALA;AAMA;AACA;AACA,SAFA;AAGA;AACA,KApDA;;AAsDA,QAtDA,gBAsDA,CAtDA;AAuDA;;AAEA;AACA;;;;;;;;;;;AAWA;AACA;AACA;;;;;;;AAOA,KA9EA;AA+EA,YA/EA,oBA+EA,KA/EA,EA+EA;AACA;AACA;AACA;AACA;AACA;AACA,kCADA;AAEA,6CAFA;AAGA,4BAHA;;AAKA;AACA,2BADA;;AAGA;AACA,cADA,CACA;AACA;AACA;AACA;AACA,WALA;AAMA,eANA,CAMA;AACA;AACA;AACA,WATA;AAUA;AACA;AACA;AACA;AACA,0GADA;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCADA;AAEA;AACA;AACA,6BADA;;AAGA,aANA;AAOA;AACA;AACA,aATA;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA,gCADA;AAEA,sDAFA;AAGA,gCAHA;;AAKA;AACA,cADA,CACA;AACA;AACA,2BADA;;AAGA,WALA;AAMA,eANA,CAMA;;AAEA,WARA;AASA;AACA;AACA;;AAEA,gBArEA;;AAuEA,KAvJA;AAwJA,aAxJA,uBAwJA;AACA;;AAEA;AACA;AACA;AACA,4DADA;;AAGA;;;AAGA,KAnKA,GAvHA,E;;;;;;;;;;;;;AC1FA;AAAA;AAAA;AAAA;AAAs6B,CAAgB,q5BAAG,EAAC,C;;;;;;;;;;;ACA17B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/free-ui/chat-item.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./chat-item.vue?vue&type=template&id=4ae6cc7a&scoped=true&\"\nvar renderjs\nimport script from \"./chat-item.vue?vue&type=script&lang=js&\"\nexport * from \"./chat-item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chat-item.vue?vue&type=style&index=0&id=4ae6cc7a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ae6cc7a\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/free-ui/chat-item.vue\"\nexport default component.exports","export * from \"-!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat-item.vue?vue&type=template&id=4ae6cc7a&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat-item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat-item.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"\">\r\n\t\t<view  class=\"pt-3 flex align-center justify-center\" v-if=\"getTime\">\r\n\t\t\t<text class=\"font-sm text-muted\">{{getTime}}</text>\r\n\t\t</view>\r\n\t\t<view class=\" flex align-center justify-center\" v-if=\"item.type === 'system'\">\r\n\t\t\t<text class=\"text-muted pt-2\" style=\"font-size: 28rpx;\">{{item.data}}</text>\r\n\t\t</view>\t\r\n\t\t<view class=\" flex align-center justify-center\" v-if=\"item.isremove\">\r\n\t\t\t<text class=\"text-muted pt-2\" style=\"font-size: 28rpx;\">{{isSelf ? '' : '对方'}}撤回了一条消息</text>\r\n\t\t</view>\r\n\t\t<!-- 不是群聊或者不是系统消息 和 不是撤回 可能出错-->\r\n\t\t<div v-if=\"item.type !== 'system' && !item.isremove\" @longpress=\"long\" class=\"flex align-start pt-3 pr-3\"  :class=\"!isSelf ? ' justify-start' : ' justify-end' \">\r\n\t\t\t\r\n\t\t\t<free-avatar @click=\"navToAvatar(item.from_id)\" v-if=\"!isSelf\" :size=\"'78'\" :src=\"item.from_avatar ? item.from_avatar : '../../static/default.jpg' \"></free-avatar>\r\n\t\t\t\r\n\t\t\t<!-- 内容 -->\r\n\t\t\t<view class=\"flex  flex-column\">\r\n\t\t\t\t<text :class=\"!isSelf ? ' ml-3' : 'mr-3' \" class=\"text-muted\" style=\"font-size: 26rpx;\" v-if=\"!shownickname && item.from_id !== user.id \">{{item.from_name}}</text>\r\n\t\t\t\t<view :class=\"!isSelf ? 'ml-3' : 'mr-3' \" class=\" mt-2  px-1  position-relative\" style=\"max-width:500rpx;\">\r\n\t\t\t\t\t<!-- 角标 -->\r\n\t\t\t\t\t<text v-if=\"item.type === 'text' || item.type === 'audio'\" :class=\"!isSelf ? ' left-icon' : 'right-icon' \" class=\"position-absolute   iconfont\">{{!isSelf ? '\\ue609' : '\\ue640'}}</text>\r\n\t\t\t\t\t<!-- 角标 -->\r\n\t\t\t\t\t<!-- 昵称 -->\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view :class=\"!isSelf ? 'ml-2' : 'mr-2' \"  class=\" p-1 rounded \" :style=\"bgcColor\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<text  v-if=\"item.type === 'text'  \" @click=\"playAudio\" class=\"p-1\" style=\"font-size: 33rpx;\">{{textContent}}</text>\r\n\t\t\t\t\t\t<!-- 图片表情包 -->\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view v-else-if=\"item.type === 'audio'\" class=\"\" @click=\"playAudio\" class=\"flex align-center\" :style=\"item.type === 'audio' ? labelStyle :'' \">\r\n\t\t\t\t\t\t\t<image v-if=\"isSelf\"  :src=\"isPlay ? '../../static/audio/play.gif' : '../../static/audio/audio3.png'\" style=\"width: 50rpx;height: 50rpx;margin-left: 5rpx;\" ></image>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<text class = \"\" style=\"margin: 0 5rpx;font-size: 33rpx;\">{{item.options.time}}''</text>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<image v-if=\"!isSelf\" :src=\"isPlay ? '../../static/audio/play.gif' : '../../static/audio/audio3.png'\"  style=\"width: 50rpx;height: 50rpx;margin-right: 5rpx\" ></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<free-image @preview = \"$emit('preview',item.data)\" v-else-if=\"item.type =='emoticon'|| item.type == 'image'\" :item = \"item\"></free-image>\r\n\t\t\t\t\t\t<!-- 图片表情包 -->\r\n\t\t\t\t\t\t<!-- 视频 -->\r\n\t\t\t\t\t\t<view v-else-if = \"item.type === 'video'\"  class=\"position-relative rounded\">\r\n\t\t\t\t\t\t\t<free-image @imgLoad='imgLoad':maxX=\"400\" @previewVideo = 'previewVideo(item.data)' :item = 'item'  ></free-image>\r\n\t\t\t\t\t\t\t<text @click=\"previewVideo(item.data)\" class=\"iconfont text-white\" style=\"position: absolute;width: 100rpx;height: 100rpx;font-size: 80rpx;\" :style = \"imgStyle\">&#xe737;</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 视频 -->\r\n\t\t\t\t\t\t<!-- 名片 -->\r\n\t\t\t\t\t\t<view @click=\"navToUser()\" class=\"rounded bg-white\" v-else-if = \"item.type === 'card'\">\r\n\t\t\t\t\t\t\t<view class=\" p-2 m-2  flex align-center\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<free-avatar  :src=\"options.avatar||'../../static/default.jpg' \"></free-avatar>\r\n\t\t\t\t\t\t\t\t<text class=\"font-weight-bold ml-2\" style=\"font-size: 32rpx;\">{{options.username}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"\" style=\"height: 1rpx;background-color: #EDEDED;\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"pl-2 pb-2 pt-1\">\r\n\t\t\t\t\t\t\t\t<text class=\"text-muted \" style=\"font-size: 32rpx;\">【个人名片】</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 名片 -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 内容 -->\r\n\t\t\t<free-avatar @click=\"navToAvatar(item.from_id)\" v-if=\"isSelf\" :size=\"'78'\" :src=\"this.user.avatar ? this.user.avatar :'../../static/default.jpg'\"></free-avatar>\r\n\t\t</div>\r\n\t\t\r\n\t\t<view class=\"flex flex-row-reverse\" style=\"margin-top: 10rpx;\" v-if=\"item.sendStatus === 'pending'\">\r\n\t\t\t<text class=\"text-muted\" style=\"font-size: 28rpx;\">发送中</text>\r\n\t\t</view>\r\n\t\t<view class=\"flex flex-row-reverse\" style=\"margin-top: 10rpx;\" v-else-if=\"item.sendStatus === 'fail'\">\r\n\t\t\t<text class=\"text-danger\" style=\"font-size: 28rpx;\">发送失败</text>\r\n\t\t</view>\r\n\t\t<free-popup chat ref = \"list_pop\" :bodyHeight=\"getHeight\" :bodyWidth=\"250\" >\r\n\t\t\t<view class=\"flex flex-column border flex-1\" style=\"width: 250rpx;\" :style=\"'height: ' + getHeight + 'rpx;'\">\r\n\t\t\t\t\t<text class=\"flex-1 pl-1\"  v-for=\"(item,index) in getTrueMenu\" :key ='index' style=\"line-height: 100rpx;\" @click=\"popEvent(item.event)\"  >{{item.name}}</text>\r\n\t\t\t</view>\r\n\t\t</free-popup>\r\n\t</view>\r\n\t\n</template>\n\n<script>\r\n\timport freeImage from '../../components/free-ui/free-image.vue'\r\n\timport freePopup from '../../components/free-ui/free-popup.vue'\r\n\timport $Time from '../../common/free-lib/time.js'\r\n\timport freeAvatar from './free-avatar.vue'\r\n\timport {mapActions,mapState} from 'vuex'\r\n\texport default{\r\n\t\tprops:{\r\n\t\t\titem:{\r\n\t\t\t\ttype:Object,\r\n\t\t\t\tdefault:{}\r\n\t\t\t},\r\n\t\t\tpreTime:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:0\r\n\t\t\t},\r\n\t\t\tindex:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:0\r\n\t\t\t},\r\n\t\t\tshownickname:{\r\n\t\t\t\ttype:[Boolean,Number],\r\n\t\t\t\tdefault:0\r\n\t\t\t},\r\n\t\t\tpopFunc:{\r\n\t\t\t\ttype:Boolean,\r\n\t\t\t\tdefault:true\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tif(this.item.type === 'audio')\r\n\t\t\tthis.onAudio(this.regAudio)\r\n\t\t\t\r\n\t\t\tif( this.item.options ) {\r\n\t\t\t\tlet num = 0\r\n\t\t\t\tfor(let key in this.item.options) {\r\n\t\t\t\t\tnum++\r\n\t\t\t\t}\r\n\t\t\t\tif(num) {\r\n\t\t\t\t\tthis.options = JSON.parse(this.item.options)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\taudio:null,\r\n\t\t\t\tisPlay:false,\r\n\t\t\t\tx:100,\r\n\t\t\t\ty:100,\r\n\t\t\t\tmenu:[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname:'复制' ,\r\n\t\t\t\t\t\tevent:'copy'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname:'发送给好友',\r\n\t\t\t\t\t\tevent:\"sendToFriends\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname:'收藏',\r\n\t\t\t\t\t\tevent:\"store\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname:'删除',\r\n\t\t\t\t\t\tevent:\"remove\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname:'撤回',\r\n\t\t\t\t\t\tevent:\"withdraw\"\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\toptions:{}\r\n\t\t\t}\r\n\t\t},\r\n\t\tbeforeDestroy() {\r\n\t\t\tthis.offAudio(this.regAudio)\r\n\t\t\tif(this.audio) this.audio.destroy()\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\tfreeAvatar,\r\n\t\t\tfreePopup,\r\n\t\t\tfreeImage\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\t...mapState({\r\n\t\t\t\tuser:state=>state.user.user,\r\n\t\t\t\tchat:state=>state.user.chat\r\n\t\t\t}),\r\n\t\t\tisSelf() {\r\n\t\t\t\treturn this.user.id === this.item.from_id\r\n\t\t\t},\r\n\t\t\t// 标签宽度\r\n\t\t\tlabelStyle() {\r\n\t\t\t\tlet width = 500/50\r\n\t\t\t\treturn `width:${this.item.options.time <= 5 ? 150 : this.item.options.time  * width}rpx;`\r\n\t\t\t},\r\n\t\t\timgStyle() {\r\n\t\t\t\treturn 'left:'+(this.x / 2 - uni.upx2px(40)) + 'px;top:' + (this.y / 2 - uni.upx2px(50)) +'px;'\r\n\t\t\t},\r\n\t\t\ttextContent() {\r\n\t\t\t\tif(this.item.type  === 'text') return this.item.data\r\n\t\t\t\treturn `4'\\'`\r\n\t\t\t},\r\n\t\t\tgetTime() {\r\n\t\t\t\treturn $Time.getChatTime(this.item.create_time,this.preTime)\r\n\t\t\t},\r\n\t\t\tgetHeight(){\r\n\t\t\t\treturn this.menu.length * 100\r\n\t\t\t\r\n\t\t\t},\r\n\t\t\ttopStyle() {\r\n\t\t\t\treturn 'top:' + (this.sHeight + uni.upx2px(90)) +'px;'\r\n\t\t\t},\r\n\t\t\tgetTrueMenu() {\r\n\t\t\t\tif(this.item.from_id !== this.user.id) {\r\n\t\t\t\t\treturn this.menu.filter(v=>v.name != '撤回')\r\n\t\t\t\t}\r\n\t\t\t\treturn this.menu\r\n\t\t\t},\r\n\t\t\tbgcColor() {\r\n\t\t\t\tif(this.item.type !== 'text' && this.item.type !== 'audio') return ''\r\n\t\t\t\treturn !this.isSelf ? 'background-color:#fff;' : 'background-color:#96ec6d;' \r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t...mapActions(['onAudio','executeAudio','offAudio']),\r\n\t\t\tnavToAvatar(id) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'../../pages/chat/chat-user?id=' + id,\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tpreviewVideo(url) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'../../pages/chat/chat_video?url='+url\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取图片的尺寸\r\n\t\t\timgLoad(e) {\r\n\t\t\t\tthis.x = e.x \r\n\t\t\t\tthis.y = e.y\r\n\t\t\t},\r\n\t\t\t// 音频事件\r\n\t\t\tregAudio(index) {\r\n\t\t\t\tif(index !== this.index) {\r\n\t\t\t\t\tif(this.audio) this.audio.pause()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tplayAudio() {\r\n\t\t\t\tthis.executeAudio(this.index)\r\n\t\t\t\tif(this.audio){\r\n\t\t\t\t\tthis.audio.pause()\r\n\t\t\t\t\tthis.audio.play()\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.audio = uni.createInnerAudioContext()\r\n\t\t\t\t\tthis.audio.src = this.item.data\r\n\t\t\t\t\tthis.audio.play()\r\n\t\t\t\t\tthis.audio.onPlay(()=>{\r\n\t\t\t\t\t\tthis.isPlay = true\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.audio.onPause(()=>{\r\n\t\t\t\t\t\tthis.isPlay = false\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.audio.onStop(()=>{\r\n\t\t\t\t\t\tthis.isPlay = false\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.audio.onEnded(()=>{\r\n\t\t\t\t\t\tthis.isPlay = false\r\n\t\t\t\t\t\t// setTimeout(()=>{\r\n\t\t\t\t\t\t// \tthis.audio.play()\r\n\t\t\t\t\t\t// },100)\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.audio.onError(()=>{\r\n\t\t\t\t\t\tthis.isPlay = false\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tlong(e)\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\tlet x = 0\r\n\t\t\t\tlet y = 0\r\n\t\t\t\t// #ifdef APP-PLUS-NVUE\r\n\t\t\t\tif(e.changedTouches.length)\r\n\t\t\t\t{\r\n\t\t\t\t\t\r\n\t\t\t\t\tx  = e.changedTouches[0].screenX\r\n\t\t\t\t\ty  = e.changedTouches[0].screenY\r\n\t\t\t\t\tthis.$refs.list_pop.show(x,y + 20)\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef MP\r\n\t\t\t\tx  = e.detail.x\r\n\t\t\t\ty  = e.detail.y\r\n\t\t\t\tthis.$refs.list_pop.show(x,y + 20)\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tx = e.changedTouches[0].pageX\r\n\t\t\t\ty = e.changedTouches[0].pageY\r\n\t\t\t\tthis.$refs.list_pop.show(x,y)\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\tpopEvent(event) {\r\n\t\t\t\tswitch(event){\r\n\t\t\t\t\tcase 'withdraw' :\r\n\t\t\t\t\t\tif(!this.popFunc) return this.toast('请到聊天页面撤回哦')\r\n\t\t\t\t\t\tconsole.log(this.item.id)\r\n\t\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\t\tto_id:this.chat.To.id,\r\n\t\t\t\t\t\t\tchat_type:this.chat.To.chat_type,\r\n\t\t\t\t\t\t\tid:this.item.id\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\ttitle:'撤销中...'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.chat.recall(obj)\r\n\t\t\t\t\t\t.then(()=>{\r\n\t\t\t\t\t\t\tthis.$emit('withDraw',this.index)\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\tthis.toast('撤销成功')\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err=>{\r\n\t\t\t\t\t\t\tthis.toast(err)\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.$refs.list_pop.hide()\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'sendToFriends':\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl:'../../pages/chat/chat_translate?params=' + encodeURIComponent(JSON.stringify(this.item))\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tconsole.log('sendToFriends')\r\n\t\t\t\t\t\tthis.$refs.list_pop.hide()\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase \"copy\":\r\n\t\t\t\t\t\t// #ifndef H5\r\n\t\t\t\t\t\tif(this.item.type === 'text')\r\n\t\t\t\t\t\tuni.setClipboardData({\r\n\t\t\t\t\t\t\tdata:this.item.data,\r\n\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle:'复制成功'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\t\tthis.$refs.list_pop.hide()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\tcase 'remove':\r\n\t\t\t\t\tif(!this.popFunc) return this.toast('请到聊天页面删除哦')\r\n\t\t\t\t\tthis.$emit('remove',{item:this.item,index:this.index})\r\n\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'store':\r\n\t\t\t\t\tlet mes = {\r\n\t\t\t\t\t\tdata:this.item.data,\r\n\t\t\t\t\t\toptions:JSON.stringify(this.item.options) ,\r\n\t\t\t\t\t\ttype:this.item.type\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$http.post('/fava/create',mes)\r\n\t\t\t\t\t.then(res=>{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:'添加成功'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err=>{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.$refs.list_pop.hide()\r\n\t\t\t\t\tbreak\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tnavToUser() {\r\n\t\t\t\tlet options\r\n\t\t\t\t\r\n\t\t\t\tif(this.item.options) {\r\n\t\t\t\t\toptions = JSON.parse(this.item.options)\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl:'../../pages/chat/chat-user?id=' + options.id\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style scoped>\r\n\t.left-icon{\r\n\t\ttop: 20rpx;\r\n\t\tcolor: white;\r\n\t\tfont-size: 32rpx;\r\n\t\tleft: 0;\r\n\t\t\r\n\t}\r\n\t.right-icon {\r\n\t\tcolor: #96ec6d;\r\n\t\ttop: 20rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tright: 2rpx;\r\n\t}\n</style>\n","import mod from \"-!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat-item.vue?vue&type=style&index=0&id=4ae6cc7a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../XB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat-item.vue?vue&type=style&index=0&id=4ae6cc7a&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1636701908553\n      var cssReload = require(\"E:/XB/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}