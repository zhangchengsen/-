<view class="data-v-4ae6cc7a"><block wx:if="{{getTime}}"><view class="pt-3 flex align-center justify-center data-v-4ae6cc7a"><text class="font-sm text-muted data-v-4ae6cc7a">{{getTime}}</text></view></block><block wx:if="{{item.type==='system'}}"><view class=" flex align-center justify-center data-v-4ae6cc7a"><text class="text-muted pt-2 data-v-4ae6cc7a" style="font-size:28rpx;">{{item.data}}</text></view></block><block wx:if="{{item.isremove}}"><view class=" flex align-center justify-center data-v-4ae6cc7a"><text class="text-muted pt-2 data-v-4ae6cc7a" style="font-size:28rpx;">{{(isSelf?'':'对方')+"撤回了一条消息"}}</text></view></block><block wx:if="{{item.type!=='system'&&!item.isremove}}"><view data-event-opts="{{[['longpress',[['long',['$event']]]]]}}" class="{{['flex','align-start','pt-3','pr-3','_div','data-v-4ae6cc7a',!isSelf?' justify-start':' justify-end']}}" bindlongpress="__e"><block wx:if="{{!isSelf}}"><free-avatar vue-id="77071fa3-1" size="78" src="{{item.from_avatar?item.from_avatar:'../../static/default.jpg'}}" data-event-opts="{{[['^click',[['navToAvatar',['$0'],['item.from_id']]]]]}}" bind:click="__e" class="data-v-4ae6cc7a" bind:__l="__l"></free-avatar></block><view class="flex  flex-column data-v-4ae6cc7a"><block wx:if="{{!shownickname&&item.from_id!==user.id}}"><text class="{{['text-muted','data-v-4ae6cc7a',!isSelf?' ml-3':'mr-3']}}" style="font-size:26rpx;">{{item.from_name}}</text></block><view class="{{['','mt-2','','px-1','','position-relative','data-v-4ae6cc7a',!isSelf?'ml-3':'mr-3']}}" style="max-width:500rpx;"><block wx:if="{{item.type==='text'||item.type==='audio'}}"><text class="{{['position-absolute','','','iconfont','data-v-4ae6cc7a',!isSelf?' left-icon':'right-icon']}}">{{!isSelf?'\ue609':'\ue640'}}</text></block><view class="{{['','p-1','rounded','','data-v-4ae6cc7a',!isSelf?'ml-2':'mr-2']}}" style="{{(bgcColor)}}"><block wx:if="{{item.type==='text'}}"><text data-event-opts="{{[['tap',[['playAudio',['$event']]]]]}}" class="p-1 data-v-4ae6cc7a" style="font-size:33rpx;" bindtap="__e">{{textContent}}</text></block><block wx:else><block wx:if="{{item.type==='audio'}}"><view class="flex align-center" style="{{(item.type==='audio'?labelStyle:'')}}" data-event-opts="{{[['tap',[['playAudio',['$event']]]]]}}" bindtap="__e"><block wx:if="{{isSelf}}"><image style="width:50rpx;height:50rpx;margin-left:5rpx;" src="{{isPlay?'../../static/audio/play.gif':'../../static/audio/audio3.png'}}" class="data-v-4ae6cc7a"></image></block><text style="margin:0 5rpx;font-size:33rpx;" class="data-v-4ae6cc7a">{{item.options.time+"''"}}</text><block wx:if="{{!isSelf}}"><image style="width:50rpx;height:50rpx;margin-right:5rpx;" src="{{isPlay?'../../static/audio/play.gif':'../../static/audio/audio3.png'}}" class="data-v-4ae6cc7a"></image></block></view></block><block wx:else><block wx:if="{{item.type=='emoticon'||item.type=='image'}}"><free-image vue-id="77071fa3-2" item="{{item}}" data-event-opts="{{[['^preview',[['$emit',['preview','$0'],['item.data']]]]]}}" bind:preview="__e" class="data-v-4ae6cc7a" bind:__l="__l"></free-image></block><block wx:else><block wx:if="{{item.type==='video'}}"><view class="position-relative rounded data-v-4ae6cc7a"><free-image vue-id="77071fa3-3" maxX="{{400}}" item="{{item}}" data-event-opts="{{[['^imgLoad',[['imgLoad']]],['^previewVideo',[['previewVideo',['$0'],['item.data']]]]]}}" bind:imgLoad="__e" bind:previewVideo="__e" class="data-v-4ae6cc7a" bind:__l="__l"></free-image><text data-event-opts="{{[['tap',[['previewVideo',['$0'],['item.data']]]]]}}" class="iconfont text-white data-v-4ae6cc7a" style="{{'position:absolute;width:100rpx;height:100rpx;font-size:80rpx;'+(imgStyle)}}" bindtap="__e"></text></view></block><block wx:else><block wx:if="{{item.type==='card'}}"><view data-event-opts="{{[['tap',[['navToUser']]]]}}" class="rounded bg-white data-v-4ae6cc7a" bindtap="__e"><view class=" p-2 m-2  flex align-center data-v-4ae6cc7a"><free-avatar vue-id="77071fa3-4" src="{{options.avatar||'../../static/default.jpg'}}" class="data-v-4ae6cc7a" bind:__l="__l"></free-avatar><text class="font-weight-bold ml-2 data-v-4ae6cc7a" style="font-size:32rpx;">{{options.username}}</text></view><view style="height:1rpx;background-color:#EDEDED;" class="data-v-4ae6cc7a"></view><view class="pl-2 pb-2 pt-1 data-v-4ae6cc7a"><text class="text-muted  data-v-4ae6cc7a" style="font-size:32rpx;">【个人名片】</text></view></view></block></block></block></block></block></view></view></view><block wx:if="{{isSelf}}"><free-avatar vue-id="77071fa3-5" size="78" src="{{this.user.avatar?this.user.avatar:'../../static/default.jpg'}}" data-event-opts="{{[['^click',[['navToAvatar',['$0'],['item.from_id']]]]]}}" bind:click="__e" class="data-v-4ae6cc7a" bind:__l="__l"></free-avatar></block></view></block><block wx:if="{{item.sendStatus==='pending'}}"><view class="flex flex-row-reverse data-v-4ae6cc7a" style="margin-top:10rpx;"><text class="text-muted data-v-4ae6cc7a" style="font-size:28rpx;">发送中</text></view></block><block wx:else><block wx:if="{{item.sendStatus==='fail'}}"><view class="flex flex-row-reverse data-v-4ae6cc7a" style="margin-top:10rpx;"><text class="text-danger data-v-4ae6cc7a" style="font-size:28rpx;">发送失败</text></view></block></block><free-popup vue-id="77071fa3-6" chat="{{true}}" bodyHeight="{{getHeight}}" bodyWidth="{{250}}" data-ref="list_pop" class="data-v-4ae6cc7a vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><view class="flex flex-column border flex-1 data-v-4ae6cc7a" style="{{'width:250rpx;'+('height: '+getHeight+'rpx;')}}"><block wx:for="{{getTrueMenu}}" wx:for-item="item" wx:for-index="index" wx:key="index"><text data-event-opts="{{[['tap',[['popEvent',['$0'],[[['getTrueMenu','',index,'event']]]]]]]}}" class="flex-1 pl-1 data-v-4ae6cc7a" style="line-height:100rpx;" bindtap="__e">{{item.name}}</text></block></view></free-popup></view>